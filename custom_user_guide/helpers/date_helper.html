<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Date Helper : CodeIgniter User Guide</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../nav/nav.js"></script>
<script type="text/javascript" src="../nav/prototype.lite.js"></script>
<script type="text/javascript" src="../nav/moo.fx.js"></script>
<script type="text/javascript" src="../nav/user_guide_menu.js"></script>

<meta http-equiv='expires' content='-1' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />
<meta name='author' content='ExpressionEngine Dev Team' />
<meta name='description' content='CodeIgniter User Guide' />

</head>
<body>

<!-- START NAVIGATION -->
<div id="nav"><div id="nav_inner"><script type="text/javascript">create_menu('../');</script></div></div>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle_darker.jpg" width="154" height="43" border="0" title="Toggle Table of Contents" alt="Toggle Table of Contents" /></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>CodeIgniter User Guide Version 2.1.3</h1></td>
<td id="breadcrumb_right"><a href="../toc.html">Table of Contents Page</a></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->


<!-- START BREADCRUMB -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">

<a href="../index.html">User Guide Home</a> &nbsp;&#8250;&nbsp;
Date Helper
</td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />Search User Guide&nbsp; <input type="text" class="input" style="width:200px;" name="q" id="q" size="31" maxlength="255" value="" />&nbsp;<input type="submit" class="submit" name="sa" value="Go" /></form></td>
</tr>
</table>
<!-- END BREADCRUMB -->

<br clear="all" />


<!-- START CONTENT -->
<div id="content">


<h1>Date Helper</h1>

<p>The Date Helper file contains functions that help you work with dates.</p>


<h2>Loading this Helper</h2>

<p>This helper is loaded using the following code:</p>
<code>$this->load->helper('date');</code>


<p>The following functions are available:</p>
<h2>american_date_to_mysql()</h2>
<p>This function converts an american date (12/31/2013) to MySQL (2013-12-31)</p>
<p>The first parameter is the  date. The second parameter determines if you want to output a DATE or a DATETIME. The third parameter can be &quot;start&quot; or &quot;end&quot; (by default &quot;start&quot;). If it's start, the time will be 00:00:00, if it's end, the time will be 23:59:59</p>
<p>Example:</p>
<code>echo american_date_to_mysql(&quot;12/31/2013&quot;); // returns 2013-12-31<br />
<br />
echo american_date_to_mysql(&quot;12/31/2013&quot;, TRUE); // returns 2013-12-31 00:00:00<br />
<br />
echo american_date_to_mysql(&quot;12/31/2013&quot;, TRUE, &quot;end&quot;); // returns 2013-12-31 23:59:59</code>
<h2>normal_date_to_mysql()</h2>
<p>This function is identical as american_date_to_mysql but it expects an european date (31/12/2013). The parameters and the output is the same.</p>
<h2>my_now()</h2>
<p>Very simple function that returns what &quot;NOW()&quot; would return in MySQL. Useful to avoid the use of date(&quot;Y-m-d H:i:s&quot;) too many times.
</p>
<h2>normal_datetime_to_mysql()</h2>
<p>This function converts an european date/time string and converts it to a valid MySQL DATETIME.</p>
<p>Example:</p>
<code> echo normal_datetime_to_mysql(&quot;12/31/2013 23:00&quot;); // returns 2013-12-31 23:00:00<br />
<br />
echo normal_datetime_to_mysql(&quot;12/31/2013 23:30:40&quot;); // returns 2013-12-31 23:30:40</code>
<h2>my_format_date()</h2>
<p>This function centralizes all the formatting of dates.</p>
<p>The first parameter is the date. It can be a date parseable by strtotime, a timestamp or NULL if you want to use the current date.</p>
<p>The second parameter allows you to set an alternative string if the date is not parseable (by default it's empty).</p>
<p>The third parameter lets you modify the format of the date.</p>
<p>Example:</p>
<code> echo my_format_date(&quot;2013-02-02&quot;); // returns 02-02-2013<br />
<br />
echo my_format_date(&quot;0000-00-00&quot;, &quot;N/A&quot;); // returns &quot;N/A&quot;<br />
<br />
echo my_format_date(&quot;2012-01-01&quot;, &quot;N/A&quot;, &quot;d/m/Y&quot;); // returns 01/01/2012
<br />
</code>
<p></p>
<h2>my_format_datetime()</h2>
<p>This expects the same parameters as my_format_date() but it handles the time as well.</p>
<h2>day_week_bounds()</h2>
<p>This function returns an array for the start end the end of the week of the date received as parameter.</p>
<p>Example:</p>
<code> echo day_week_bounds(&quot;2013-03-15&quot;);<br />
<br />
/*<br />
Returns<br />
<br />
array(2) {
  [0]=>
  string(19) "2013-03-10 00:00:00"
  [1]=>
  string(19) "2013-03-16 23:59:59"
}
<br />
*/
</code>
<h2>month_generate_range()</h2>
<p>This function returns the start or the end of a given month.</p>
<p>The first parameter is the month number, the second one is the year.</p>
<p>The third and fourth are optional parameters. The third is to determine the type (start/end) (by default start). The fourth one is to specify if you expect a DATE field or a DATETIME</p>
<p>Example:</p>
<code> echo month_generate_range(3, 2013); // returns 2013-03-01 00:00:00<br />
<br />
echo month_generate_range(3, 2013, &quot;end&quot;); // returns 2013-03-31 23:59:59<br />
<br />
echo month_generate_range(3, 2013, &quot;start&quot;, FALSE); // returns 2013-03-01<br />
<br />
</code>
<h2>generate_daily_range()</h2>
<p>This function returns the start or the end of a given day.</p>
<p>The function is similar as month_generate_range() but the first parameter is for the day</p>
<p>Example:</p>
<code> echo month_generate_range(15, 3, 2013); // returns 2013-03-15 00:00:00<br />
<br />
echo month_generate_range(15, 3, 2013, &quot;end&quot;); // returns 2013-03-15 23:59:59<br />
</code>
<h2>ago()</h2>
<p>This function returns a string that represents the time ago.</p>
<p>The first parameter must be a date parseable by strtotime or a timestamp</p>
<p>Example:</p>
<code> echo ago(&quot;2013-01-01&quot;) // returns something like &quot;2 months ago&quot;</code>
<h2>time_remainig_text()</h2>

<p>This function returns a text explaining the difference between two tasks. With a precision of days.</p>

<p>The first parameter is the start date and the second parameter is the end date. Both dates must be parseable by strtotime().  Example:</p>

<code>$from = &quot;2013-03-15&quot;;<br />
$to = &quot;2013-03-20&quot;;
<br />
<br />
echo time_remainig_text($from, $to); // returns &quot;5 days left&quot;</code>

<p>This function has a precission of days, hours and minutes.</p>
</div>
<!-- END CONTENT -->


<div id="footer">
<p>
Previous Topic:&nbsp;&nbsp;<a href="cookie_helper.html">Cookie Helper</a>
&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
<a href="#top">Top of Page</a>&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
<a href="../index.html">User Guide Home</a>&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
Next Topic:&nbsp;&nbsp;<a href="directory_helper.html">Directory Helper</a>
</p>
<p><a href="http://codeigniter.com">CodeIgniter</a> &nbsp;&middot;&nbsp; Copyright &#169; 2006 - 2012 &nbsp;&middot;&nbsp; <a href="http://ellislab.com/">EllisLab, Inc.</a></p>
</div>

</body>
</html>